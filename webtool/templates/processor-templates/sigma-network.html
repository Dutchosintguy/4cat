<!DOCTYPE html>
<html>
<head>

	<title>Sigma js network</title>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">

	<link rel="stylesheet" type="text/css" href="{{ url_for("static", filename="css/sigma_network.css") }}">

	<!-- Font Awesome -->
 <link href="{{ url_for("static", filename="fontawesome/css/fontawesome.css") }}" rel="stylesheet">
 <link href="{{ url_for("static", filename="fontawesome/css/regular.css") }}" rel="stylesheet">
 <link href="{{ url_for("static", filename="fontawesome/css/solid.css") }}" rel="stylesheet">
 <link href="{{ url_for("static", filename="fontawesome/css/brands.css") }}" rel="stylesheet">

	<!-- START SIGMA IMPORTS -->
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/sigma.core.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/conrad.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/utils/sigma.utils.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/utils/sigma.polyfills.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/sigma.settings.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/classes/sigma.classes.dispatcher.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/classes/sigma.classes.configurable.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/classes/sigma.classes.graph.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/classes/sigma.classes.camera.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/classes/sigma.classes.quad.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/classes/sigma.classes.edgequad.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/captors/sigma.captors.mouse.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/captors/sigma.captors.touch.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/sigma.renderers.canvas.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/sigma.renderers.webgl.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/sigma.renderers.svg.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/sigma.renderers.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/webgl/sigma.webgl.nodes.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/webgl/sigma.webgl.nodes.fast.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/webgl/sigma.webgl.edges.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/webgl/sigma.webgl.edges.fast.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/webgl/sigma.webgl.edges.arrow.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.labels.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.hovers.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.nodes.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.edges.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.edges.curve.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.edges.arrow.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.edges.curvedArrow.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.edgehovers.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.edgehovers.curve.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.edgehovers.arrow.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.edgehovers.curvedArrow.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/canvas/sigma.canvas.extremities.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/svg/sigma.svg.utils.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/svg/sigma.svg.nodes.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/svg/sigma.svg.edges.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/svg/sigma.svg.edges.curve.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/svg/sigma.svg.labels.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/renderers/svg/sigma.svg.hovers.def.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/middlewares/sigma.middlewares.rescale.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/middlewares/sigma.middlewares.copy.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/misc/sigma.misc.animation.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/misc/sigma.misc.bindEvents.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/misc/sigma.misc.bindDOMEvents.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/src/misc/sigma.misc.drawHovers.js") }}"></script>

	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/plugins/sigma.layout.forceAtlas2/worker.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/plugins/sigma.layout.forceAtlas2/supervisor.js") }}"></script>
	<script src="{{ url_for("static", filename="js/sigma.js-1.2.1/plugins/sigma.exporters.svg/sigma.exporters.svg.js") }}"></script>

	<!-- END SIGMA IMPORTS -->

</head>

<body>

	<!-- Control panel -->
	<div id='control-panel'>

		<div id="network-name-box" class="control-panel-notice">
			Undefined network
		</div>
		

		<div id="main-alert-box" class="alert-box control-panel-notice"></div>

		<!-- slider for manipulating networks -->
		<div id="slider-container">
			<div class="control-panel-notice">
			Slide to change date.
				<div>
					<input id="time-slider" type="range" min="1" max="100" value="1">
				</div>
				<div>
					<button id="btn-animate-slider"><i  class="fa fa-spin fa-sync-alt invisible" ></i> <span class="button-text">Start animation</span></button>
				</div>
			</div>
		</div>
		<hr>

		<div id="parameter-alert-box" class="alert-box"></div>

		<div id="graph-manipulation">

			<!-- Settings ForceAtlas2 / gravity -->
			<div class="graph-manipulation-box" id="network-settings">
				<h2 class="graph-manipulation-box-header">Network settings</h2>
				<p>See the <a href="https://github.com/jacomyal/sigma.js/tree/master/plugins/sigma.layout.forceAtlas2" target="__blank">documentation</a> for parameter information.</p>

				<!-- Start / stop ForceAtlas2 -->
				<div class="graph-manipulation-subbox" id="start-force-container">
					<button id="start-force" class="standalone-button">
						<i id="hourglass" class='fa fa-spin fa-sync-alt invisible'></i> 
						<span class="button-text">Start ForceAtlas2</span>
					</button>
				</div>
				<!-- Other network settings -->
				<div class="graph-manipulation-subbox">
					<p><label for="gravity">Gravity: </label>
						<input class="parameter-input" id="gravity" name="gravity" type="number" min="1" value="1">
					</p>
					<p><label for="strong-gravity">Strong gravity: </label>
						<input class="parameter-input" id="strong-gravity" name="strong-gravity" type="checkbox">
					</p>
					<p><label for="edge-weight-influence">Edge weight influence: </label>
						<input class="parameter-input" id="edge-weight-influence" name="edge-weight-influence" type="checkbox">
					</p>
					<p><label for="scaling-ratio">Scaling ratio: </label>
						<input class="parameter-input" id="scaling-ratio" name="scaling-ratio" type="number" min="1" value="1">
					</p>
				</div>
				<div class="graph-manipulation-subbox">
					<p><label for="linlog-mode">LinLog mode: </label>
						<input class="parameter-input" id="linlog-mode" name="linlog-mode" type="checkbox">
					</p>
				</div>
				<div class="graph-manipulation-subbox">
					<p><label for="outbound-attraction-distribution">Outbound Attraction Distribution: </label>
						<input class="parameter-input" id="outbound-attraction-distribution" name="outbound-attraction-distribution" type="checkbox">
					</p>
				</div>
				<div class="graph-manipulation-subbox">
					<p><label for="adjust-sizes">Adjust sizes: </label>
						<input class="parameter-input"id="adjust-sizes" name="adjust-sizes" type="checkbox"  value="">
					</p>
				</div>
				<div class="graph-manipulation-subbox">
					<p><label for="barnes-hut-optimise">Barnes-Hut optimise: </label>
						<input class="parameter-input" id="barnes-hut-optimise" name="barnes-hut-optimise" type="checkbox" checked>
					</p>
					<p><label for="barnes-hut-theta">Barnes-Hut theta: </label>
						<input class="parameter-input" id="barnes-hut-theta" name="barnes-hut-theta" type="number" min="0" value="0.5">
					</p>
				</div>
				<div class="graph-manipulation-subbox">
					<p><label for="slow-down">Slow down: </label>
						<input class="parameter-input" id="slow-down" name="slow-down" type="number" value="10">
					</p>
				</div>

			</div>
			<hr>

			<!-- Visual settings -->
			<div class="graph-manipulation-box" id="visual-settings"></div>
				<h2 class="graph-manipulation-box-header">Visual</h2>
				<div class="graph-manipulation-subbox">
					<p><label for="show-labels">Show labels: </label>
						<input class="parameter-input" id="show-labels" name="show-labels" type="checkbox" checked>
					</p>
				</div>
				<div class="graph-manipulation-subbox">
					<p><label for="min-node-size">Min node size: </label>
						<input class="parameter-input" id="min-node-size" name="min-node-size" type="number" min="0.1" value="2">
					</p>
					<p><label for="max-node-size">Max node size: </label>
						<input class="parameter-input" id="max-node-size" name="max-node-size" type="number" min="0.1" value="20">
					</p>
				</div>
				<div class="graph-manipulation-subbox">
					<p><label for="min-edge-size">Min edge size: </label>
						<input class="parameter-input" id="min-edge-size" name="min-edge-size" type="number" min="0.1" value="0.1">
					</p>
					<p><label for="max-edge-size">Max edge size: </label>
						<input class="parameter-input" id="max-edge-size" name="max-edge-size" type="number" min="0.1" value="1">
					</p>
				</div>
				<div class="graph-manipulation-subbox">
					<p><label for="node-colour">Node colour: </label>
						<input class="parameter-input" id="node-colour" name="node-colour" type="color" value="#CE1B28">
					</p>
					<p><label for="edge-colour">Edge colour: </label>
						<input class="parameter-input" id="edge-colour" name="edge-colour" type="color" value="#FFA5AC">
					</p>
					<p><label for="label-colour">Label colour: </label>
						<input class="parameter-input" id="label-colour" name="label-colour" type="color" value="#00000">
					</p>
				</div>
			</div>
			<hr>
			<div class="graph-manipulation-box" id="visual-settings">
				<h2 class="graph-manipulation-box-header">Save to svg</h2>
				<p>
					<input class="parameter-input full-width" id="file-name" name="file-name" type="text" placeholder="sigma-graph.svg">
				</p>
				<button id="save-svg" class="standalone-button">
					<span class="button-text">Download</span>
				</button>
			</div>
		</div>

	</div>

	<div id="footer">
		<p>Made with <a href='https://archive.4plebs.org' target='_blank'>4CAT</a> and <a href="https://github.com/jacomyal/sigma.js">sigma js</a>.</p>
	</div>

	<!-- Where the network graph will be -->
	<div id="graph-container">
	</div>

	<!-- Load up some more JavaScripts -->
	<script src="{{ url_for("static", filename="js/sigma_network.js") }}" charset="utf-8"></script>
	<script type="text/javascript">

		// Initialise the graph
		var core_json = JSON.parse('{{ network_data | tojson | safe }}');
		console.log(core_json);
		init_network(core_json);

	</script>

</body>
</html>
